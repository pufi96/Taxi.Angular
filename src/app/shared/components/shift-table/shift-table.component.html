<p-table #shiftTable [value]="shifts" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
    (onFilter)="applyFilters()" [tableStyle]="{ 'min-width': '50rem' }"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} shifts." [rowsPerPageOptions]="[10, 25, 50]">
    <ng-template pTemplate="header">
        <tr>
            <th>#</th>
            <th pSortableColumn="shiftStart">Start date <p-sortIcon field="shiftStart"></p-sortIcon></th>
            <th pSortableColumn="shiftEnd">Finish date <p-sortIcon field="shiftEnd"></p-sortIcon></th>
            <th pSortableColumn="earnings">Earnings <p-sortIcon field="earnings"></p-sortIcon></th>
            <th pSortableColumn="expenses">Expenses <p-sortIcon field="expenses"></p-sortIcon></th>
            <th pSortableColumn="turnover">Turnover <p-sortIcon field="turnover"></p-sortIcon></th>
            <th>Description</th>
            <th>Rides</th>
        </tr>
        <tr>
            <th></th>
            <th>
                <p-columnFilter type="date" field="shiftStart"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="date" field="shiftEnd"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="earnings"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="expenses"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="turnover"></p-columnFilter>
            </th>
            <th></th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-shift let-i="shift">
        <tr>
            <td>{{ shift.index }}</td>
            <td>{{ shift.shiftStart | date : 'MM/dd/yyyy' }}</td>
            <td>{{ (shift.shiftEnd | date : 'MM/dd/yyyy')=="01/01/0001"? "/": (shift.shiftEnd | date : 'MM/dd/yyyy') }}</td>
            <td>{{ shift.earnings }}</td>
            <td>{{ shift.expenses }}</td>
            <td>{{ shift.turnover }}</td>
            <td>{{ shift.description }}</td>
            <td>
                <div class="card flex justify-content-center">
                    <p-toast></p-toast>
                    <p-button (click)="show(shift.id)" label="Show"></p-button>
                </div>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="footer">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>Total earnings: {{earnings}}</td>
            <td>Total expenses: {{expenses}}</td>
            <td>Total turnover: {{turnover}}</td>
            <td></td>
            <td></td>
        </tr>
    </ng-template>
</p-table>